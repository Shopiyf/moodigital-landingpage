<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>L'Ordre Moodigital — Expérience</title>
    
    <!-- TAILWIND (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Oswald:wght@400;500&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">

    <!-- SMOOTH SCROLL (Lenis) -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Canela', 'Playfair Display', 'serif'], 
                        display: ['Manuka', 'Oswald', 'sans-serif'],
                    },
                    colors: {
                        earth: "#6B3F24",
                        forest: "#1F3A2E",
                        lilac: "#D8D1DA",
                        amber: "#E07A2F",
                        cream: "#F4F1EC",
                        black: "#050505",
                        stone: "#1c1c1c",
                    },
                    letterSpacing: {
                        'tightest': '-0.04em',
                        'manifesto': '0.15em',
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    }
                },
            },
        }
    </script>
    
    <style>
        /* --- CORE OPTIMIZATIONS --- */
        html.lenis {
            height: auto;
        }
        .lenis.lenis-smooth {
            scroll-behavior: auto;
        }
        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }
        .lenis.lenis-stopped {
            overflow: hidden;
        }
        
        body {
            background-color: #050505;
            color: #F4F1EC;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }

        /* --- ASSETS & TEXTURES --- */
        @font-face {
            font-family: 'Manuka';
            src: url('./1382df51f3297328e7355d0ecd34b0d1.woff2') format('woff2');
            font-display: swap;
        }
        @font-face {
            font-family: 'Canela';
            src: url('./4a24899e94d8236f671c1090cd9e068c.woff2') format('woff2');
            font-display: swap;
        }

        .noise-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* --- PILLAR 3D CSS --- */
        .pillar-container {
            position: relative;
            transform-style: preserve-3d;
        }
        
        .pillar-shaft {
            /* Cylinder effect using gradients */
            background: linear-gradient(
                90deg, 
                #0a0a0a 0%, 
                #2a2a2a 20%, 
                #1a1a1a 45%, 
                #3a3a3a 50%, 
                #1a1a1a 55%, 
                #2a2a2a 80%, 
                #0a0a0a 100%
            );
            box-shadow: inset 0 0 50px rgba(0,0,0,0.8);
            position: relative;
        }

        /* Fluting (Cannelures) */
        .pillar-flutes {
            position: absolute;
            inset: 0;
            background-image: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 4%,
                rgba(0,0,0,0.6) 4.5%,
                rgba(0,0,0,0.6) 5.5%,
                transparent 6%
            );
            opacity: 0.7;
            mix-blend-mode: multiply;
        }

        .pillar-capital {
            background: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border-bottom: 1px solid rgba(255,255,255,0.05);
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .pillar-base {
            background: linear-gradient(to top, #0a0a0a, #1a1a1a);
            box-shadow: 0 -10px 30px rgba(0,0,0,0.5);
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        /* --- UTILS --- */
        .text-glow {
            text-shadow: 0 0 30px rgba(224, 122, 47, 0.3);
        }
    </style>

    <!-- REACT LIBRARIES -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/clsx@2.0.0/dist/clsx.min.js"></script>
    <script src="https://unpkg.com/tailwind-merge@2.0.0/dist/bundle-mjs.js"></script>
</head>
<body>
    <div id="root"></div>
    <div class="noise-bg"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect, useMemo } = React;
        const { motion, AnimatePresence, useScroll, useTransform, useSpring } = window.Motion;
        
        // --- UTILS ---
        function cn(...inputs) {
            return window.clsx ? window.clsx(inputs) : inputs.filter(Boolean).join(' ');
        }

        // --- ICONS ---
        const Star8 = ({ className }) => (
            <svg viewBox="0 0 24 24" fill="currentColor" className={className} xmlns="http://www.w3.org/2000/svg"><path d="M12 0L14.5 9.5L24 12L14.5 14.5L12 24L9.5 14.5L0 12L9.5 9.5L12 0Z" /></svg>
        );
        const ArrowLeft = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="square" className={className}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
        );

        // --- HOOKS ---
        const useSmoothScroll = () => {
            useEffect(() => {
                const lenis = new Lenis({
                    duration: 1.2,
                    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                    direction: 'vertical',
                    gestureDirection: 'vertical',
                    smooth: true,
                    mouseMultiplier: 1,
                    smoothTouch: false,
                    touchMultiplier: 2,
                });

                function raf(time) {
                    lenis.raf(time);
                    requestAnimationFrame(raf);
                }
                requestAnimationFrame(raf);

                return () => lenis.destroy();
            }, []);
        };

        // --- COMPONENTS ---

        const Button = ({ children, onClick, className, variant = "primary" }) => {
            const base = "relative overflow-hidden inline-flex items-center justify-center px-8 md:px-10 py-4 text-xs font-semibold tracking-widest transition-all duration-500 border font-sans cursor-pointer uppercase rounded-none group z-10";
            const styles = {
                primary: "bg-amber text-cream border-amber hover:bg-earth hover:border-earth",
                outline: "bg-transparent text-cream border-white/20 hover:border-amber hover:text-amber",
            };
            
            return (
                <button onClick={onClick} className={cn(base, styles[variant], className)}>
                    <span className="relative z-10 flex items-center gap-3 group-hover:gap-4 transition-all duration-300">
                        {children}
                    </span>
                    {/* Hover Fill Effect */}
                    <div className="absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out"></div>
                </button>
            );
        };

        // --- HIGH FIDELITY PILLAR COMPONENT ---
        const Pillar = ({ delay }) => {
            return (
                <motion.div
                    initial={{ y: "100%" }}
                    animate={{ y: "0%" }}
                    exit={{ y: "-100%" }} // Pillars go UP when finishing
                    transition={{ 
                        duration: 1.4, 
                        delay: delay, 
                        ease: [0.76, 0, 0.24, 1] // Dramatic bezier
                    }}
                    className="relative h-full w-full flex flex-col items-center justify-end"
                >
                    {/* Capital (Top) */}
                    <div className="w-[140%] h-12 md:h-16 pillar-capital relative z-20 rounded-sm mb-[-2px]">
                        <div className="absolute top-2 left-2 right-2 bottom-2 border border-white/5 opacity-50"></div>
                    </div>
                    
                    {/* Shaft (Middle) */}
                    <div className="w-full flex-grow pillar-shaft relative z-10">
                        <div className="pillar-flutes"></div>
                        {/* Shadow Gradient for depth */}
                        <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/80"></div>
                    </div>
                    
                    {/* Base (Bottom) */}
                    <div className="w-[140%] h-16 md:h-24 pillar-base relative z-20 rounded-sm mt-[-2px] flex items-end justify-center pb-4">
                        <div className="w-[80%] h-[2px] bg-white/5"></div>
                    </div>
                </motion.div>
            );
        };

        const PillarTransition = ({ onComplete }) => {
            return (
                <motion.div 
                    initial={{ opacity: 1 }}
                    exit={{ opacity: 0 }}
                    transition={{ duration: 0.8, delay: 0.5 }}
                    className="fixed inset-0 z-[200] pointer-events-none flex items-end justify-center overflow-hidden"
                >
                    {/* Dark Backdrop */}
                    <motion.div 
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        exit={{ opacity: 0 }}
                        className="absolute inset-0 bg-black/90 backdrop-blur-sm"
                    />

                    {/* The 5 Great Pillars */}
                    <div className="relative z-10 w-full h-full flex justify-center gap-4 md:gap-8 px-4 max-w-[1600px]">
                         {[0, 1, 2, 3, 4].map((i) => (
                            <div key={i} className="h-full w-full max-w-[150px] relative overflow-hidden">
                                <Pillar delay={i * 0.1} />
                            </div>
                         ))}
                    </div>

                    {/* Completion Trigger */}
                    <motion.div 
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        transition={{ delay: 1.8 }}
                        onAnimationComplete={onComplete}
                        className="hidden"
                    />
                </motion.div>
            );
        };

        // --- VIEWS ---

        const Hero = ({ onEnter }) => {
            return (
                <section className="relative h-screen w-full flex items-center justify-center overflow-hidden bg-earth/20">
                    <div className="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1605423858087-062e71d3780a?q=80&w=2574')] bg-cover bg-center opacity-30 mix-blend-multiply scale-110"></div>
                    <div className="absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-black"></div>
                    
                    <div className="relative z-10 flex flex-col items-center text-center px-4">
                        <motion.div 
                            initial={{ opacity: 0, y: 50 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 1, ease: "easeOut" }}
                            className="space-y-8"
                        >
                            <div className="inline-flex items-center gap-4 border border-white/10 bg-white/5 backdrop-blur-md px-6 py-2">
                                <Star8 className="w-3 h-3 text-amber animate-spin-slow" />
                                <span className="font-manifesto tracking-manifesto text-amber text-xs uppercase">Message Officiel</span>
                            </div>
                            
                            <h1 className="text-6xl md:text-[9rem] font-serif text-cream leading-[0.8] tracking-tightest mix-blend-overlay opacity-90">
                                L'ORDRE
                            </h1>
                            
                            <p className="text-xl md:text-3xl text-lilac/80 font-serif italic max-w-xl mx-auto">
                                "Ni agence. Ni coaching. Une Élévation."
                            </p>

                            <div className="pt-8">
                                <Button onClick={onEnter} className="hover:scale-105 transition-transform">Entrer dans l'Ordre</Button>
                            </div>
                        </motion.div>
                    </div>
                </section>
            );
        };

        const DoorsView = ({ onSelect }) => {
            const doors = [
                { id: 'transmission', num: 'I', title: 'TRANSMISSION', sub: 'Savoir & Autonomie', desc: 'Canva Mood, Carnets, Formations.' },
                { id: 'origin', num: 'II', title: 'ORIGINE', sub: 'Alignement & Identité', desc: 'Posture, Vision, Incarner sa vérité.' },
                { id: 'partner', num: 'III', title: 'PARTENAIRE', sub: 'Bras Droit & Structure', desc: 'Délégation, Croissance, Sérénité.' }
            ];

            return (
                <div className="min-h-screen bg-[#080808] relative pt-32 pb-20 px-4 md:px-12 flex flex-col items-center">
                    <div className="max-w-[1400px] w-full">
                        <motion.div 
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            transition={{ duration: 1 }}
                            className="text-center mb-24"
                        >
                            <h2 className="text-4xl md:text-6xl font-serif text-cream mb-4">Les Trois Piliers</h2>
                            <div className="w-24 h-px bg-amber/50 mx-auto"></div>
                        </motion.div>

                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 h-[60vh]">
                            {doors.map((door, index) => (
                                <motion.div 
                                    key={door.id}
                                    initial={{ opacity: 0, y: 50 }}
                                    animate={{ opacity: 1, y: 0 }}
                                    transition={{ duration: 0.8, delay: index * 0.2 }}
                                    onClick={() => onSelect(door.id)}
                                    className="group relative border border-white/5 bg-white/[0.02] hover:bg-white/[0.04] p-8 flex flex-col justify-between cursor-pointer transition-all duration-500 hover:border-amber/30 overflow-hidden"
                                >
                                    {/* Background Hover Glow */}
                                    <div className="absolute inset-0 bg-gradient-to-b from-amber/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"></div>

                                    <div className="relative z-10">
                                        <div className="flex justify-between items-start mb-12">
                                            <span className="font-serif text-5xl text-white/20 group-hover:text-amber transition-colors duration-500">{door.num}</span>
                                            <Star8 className="w-4 h-4 text-lilac/30 group-hover:text-amber group-hover:rotate-90 transition-all duration-700" />
                                        </div>
                                        <h3 className="text-3xl font-serif text-cream mb-2 group-hover:translate-x-2 transition-transform duration-500">{door.title}</h3>
                                        <p className="font-manifesto text-xs text-amber tracking-widest uppercase mb-6">{door.sub}</p>
                                        <p className="text-lilac/60 font-sans font-light text-sm leading-relaxed">{door.desc}</p>
                                    </div>

                                    <div className="relative z-10 pt-8 border-t border-white/5 group-hover:border-amber/20 transition-colors">
                                        <span className="text-[10px] uppercase tracking-widest flex items-center gap-4 text-lilac/50 group-hover:text-cream transition-colors">
                                            Explorer <span className="block h-[1px] w-8 bg-current group-hover:w-16 transition-all duration-500"></span>
                                        </span>
                                    </div>
                                </motion.div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const DetailContent = ({ type }) => {
            const content = {
                transmission: {
                    title: "TRANSMISSION",
                    sub: "Savoir",
                    text: "Pour avancer en autonomie. Moodigital met à disposition ses outils, ses méthodes et sa vision.",
                    items: ["Canva Mood", "Carnets Business", "Masterclasses"]
                },
                origin: {
                    title: "ORIGINE",
                    sub: "Alignement",
                    text: "Reprendre le pouvoir. Créer depuis ta vérité. Avant la stratégie, il y a l'identité.",
                    items: ["Posture de CEO", "Identité Radicale", "Vision Claire"]
                },
                partner: {
                    title: "PARTENAIRE",
                    sub: "Structure",
                    text: "Ton bras droit stratégique. On remplace le flou par un pilotage clair et ambitieux.",
                    items: ["Direction Stratégique", "Recrutement", "Systèmes"]
                }
            };
            
            const data = content[type];

            return (
                <div className="min-h-screen pt-32 pb-20 px-4 md:px-12 max-w-[1400px] mx-auto">
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 mb-24">
                        <motion.div 
                            initial={{ opacity: 0, x: -50 }}
                            animate={{ opacity: 1, x: 0 }}
                            transition={{ duration: 1 }}
                        >
                            <span className="font-manifesto text-amber text-sm tracking-widest uppercase block mb-6">{data.sub}</span>
                            <h2 className="text-6xl md:text-9xl font-serif text-cream mb-8 leading-[0.9]">{data.title}</h2>
                            <p className="text-xl md:text-2xl text-lilac/70 font-light font-sans leading-relaxed max-w-lg">
                                {data.text}
                            </p>
                        </motion.div>
                        
                        <motion.div 
                            initial={{ opacity: 0, scale: 0.95 }}
                            animate={{ opacity: 1, scale: 1 }}
                            transition={{ duration: 1, delay: 0.2 }}
                            className="relative h-[500px] border border-white/10 bg-white/5 overflow-hidden group"
                        >
                            <div className="absolute inset-0 bg-gradient-to-tr from-amber/10 via-transparent to-transparent opacity-50 group-hover:opacity-80 transition-opacity duration-700"></div>
                            {/* Abstract Geometric Shape */}
                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-amber/20 rounded-full group-hover:scale-110 transition-transform duration-[2s]"></div>
                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 border border-white/10 rotate-45 group-hover:rotate-90 transition-transform duration-[2s]"></div>
                        </motion.div>
                    </div>

                    {/* Content Section */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-white/10 pt-16">
                        {data.items.map((item, i) => (
                            <motion.div 
                                key={i}
                                initial={{ opacity: 0, y: 20 }}
                                whileInView={{ opacity: 1, y: 0 }}
                                viewport={{ once: true }}
                                transition={{ delay: 0.1 * i }}
                                className="bg-[#0A0A0A] p-8 border-l border-amber/30"
                            >
                                <h4 className="font-serif text-2xl text-cream mb-2">{item}</h4>
                                <p className="text-lilac/40 text-sm font-sans">Module détaillé et accompagnement.</p>
                            </motion.div>
                        ))}
                    </div>

                    {/* Partner Specific Table if Partner */}
                    {type === 'partner' && (
                        <div className="mt-32">
                            <h3 className="font-serif text-4xl text-center mb-16">Les Offres Partner</h3>
                            <div className="space-y-4">
                                {['Essential', 'Growth', 'Expansion'].map((lvl, i) => (
                                    <div key={lvl} className="flex flex-col md:flex-row justify-between items-center py-8 border-b border-white/10 hover:bg-white/5 transition-colors px-4">
                                        <span className="font-manifesto text-2xl uppercase w-48">{lvl}</span>
                                        <span className="text-lilac/60 font-sans font-light flex-1 text-center md:text-left">Accompagnement mensuel et stratégie.</span>
                                        <Button variant="outline" className="mt-4 md:mt-0 py-2 px-6 text-[10px]">Découvrir</Button>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                    
                    <div className="mt-32 text-center">
                        <Button className="w-full md:w-auto">Candidater maintenant</Button>
                    </div>
                </div>
            );
        };

        const App = () => {
            // State: 'hero', 'doors', 'details'
            const [view, setView] = useState('hero'); 
            const [detailType, setDetailType] = useState(null);
            const [animating, setAnimating] = useState(false);

            // Hook: Lenis Smooth Scroll
            useSmoothScroll();

            const handleEnter = () => {
                setAnimating(true);
                // Trigger Pillar Animation
                // Wait for pillars to go UP (approx 1s) then change view
                setTimeout(() => {
                    setView('doors');
                    window.scrollTo(0,0);
                }, 1200);
                // Animation ends a bit later
                setTimeout(() => setAnimating(false), 2000);
            };

            const handleSelectDoor = (type) => {
                setAnimating(true);
                setTimeout(() => {
                    setDetailType(type);
                    setView('details');
                    window.scrollTo(0,0);
                }, 1200);
                setTimeout(() => setAnimating(false), 2000);
            };

            const handleBack = () => {
                setAnimating(true);
                setTimeout(() => {
                    setDetailType(null);
                    setView('doors');
                    window.scrollTo(0,0);
                }, 1200);
                setTimeout(() => setAnimating(false), 2000);
            };

            return (
                <div className="min-h-screen bg-black text-cream selection:bg-amber selection:text-black">
                    {/* Fixed Navigation / Logo */}
                    <nav className="fixed top-0 left-0 w-full z-50 px-6 py-6 flex justify-between items-center mix-blend-difference">
                        <div className="font-serif text-xl tracking-tight text-white font-bold cursor-pointer" onClick={() => window.location.reload()}>MOODIGITAL</div>
                        {view === 'details' && (
                            <button onClick={handleBack} className="flex items-center gap-2 text-xs font-manifesto uppercase tracking-widest text-white hover:text-amber transition-colors">
                                <ArrowLeft className="w-4 h-4" /> Retour
                            </button>
                        )}
                    </nav>

                    {/* Transition Layer */}
                    <AnimatePresence>
                        {animating && <PillarTransition />}
                    </AnimatePresence>

                    {/* Main Content Area */}
                    <main>
                        {view === 'hero' && <Hero onEnter={handleEnter} />}
                        {view === 'doors' && <DoorsView onSelect={handleSelectDoor} />}
                        {view === 'details' && <DetailContent type={detailType} />}
                    </main>

                    {/* Footer (Always present on Doors/Details) */}
                    {view !== 'hero' && (
                        <footer className="py-12 border-t border-white/5 text-center text-lilac/20 text-[10px] uppercase tracking-widest font-sans">
                            <p>© 2026 L'Ordre Moodigital. All rights reserved.</p>
                        </footer>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
